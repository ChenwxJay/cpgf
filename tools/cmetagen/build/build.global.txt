set(CMAKE_BUILD_TYPE Release)

if(${BUILD_DEBUG})
	set(CMAKE_BUILD_TYPE Debug)
	message(STATUS "Build as debug.")
endif(${BUILD_DEBUG})

set(ROOT_PATH ${PROJECT_SOURCE_DIR}/..)
set(BIN_PATH ${PROJECT_SOURCE_DIR}/bin)
set(CPGF_HOME ${ROOT_PATH}/../..)

set(SRC_PATH ${ROOT_PATH}/src)

set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${BIN_PATH})

set(CPGF_LIB ${CPGF_HOME}/lib/libcpgf.a)

if(MSVC)
	if(NOT ${BUILD_DEBUG})
		add_definitions(-D_SECURE_SCL=0 -D_HAS_ITERATOR_DEBUGGING=0)
	endif(NOT ${BUILD_DEBUG})

	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /bigobj")
	set(CMAKE_EXE_LINKER_FLAGS "/INCREMENTAL:NO")
	set(CMAKE_EXE_LINKER_FLAGS_DEBUG "/INCREMENTAL:NO")

		set(CPGF_LIB ${CPGF_HOME}/lib/Release/cpgf.lib)
	if(${BUILD_DEBUG})
		set(CPGF_LIB ${CPGF_HOME}/lib/Debug/cpgf.lib)
	endif(${BUILD_DEBUG})
endif(MSVC)
	
